var manager = module.exports = {
  port   : 3000,
  base   : 'app/controller/',
  load   : function(name) {
    return require(this.base + name); 
  },
  listen : function(app, mapping) {
    for (var method in mapping) {
      for (var uri in mapping[method]) {
        var path = mapping[method][uri];
        this.deploy(app, uri, path, method);
      }
    }
    app.listen(this.port);
  },
  filter : function(req, res, next) {
    next(); 
  },
  deploy : function(app, uri, path, method) {
    app[method](uri, this.filter, this.load(path)[method]);
  }
};
